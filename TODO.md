# EchoTrans 改善課題

## 🎯 優先度高

### VAD (Voice Activity Detection) 性能改善
**現在の問題:**
- 固定しきい値（speaking: 25, silence: 15）で環境適応性が低い
- 簡単なRMS計算でノイズ耐性不足
- ユーザーがしきい値を調整できない
- VAD状態が録音制御と連動していない

**改善案:**
- [x] Settings画面でVADパラメータ調整機能
- [x] 環境音キャリブレーション機能
- [x] VAD感度プリセット（静か/普通/うるさい環境用）
- [x] VADしきい値のリアルタイム可視化
- [x] 音声レベルメーターの改善
- [ ] 環境音レベルに基づく動的しきい値調整
- [ ] より精密なスペクトル解析の実装
- [ ] VAD検出による自動録音開始/停止機能

## 🔧 技術的改善

### API関連
- [x] gpt-4o-mini-transcribe対応（コスト50%削減）
- [x] 音声ファイル形式の最適化（WebM/WAV対応）
- [x] TTS APIのEither型バグ修正

### UI/UX改善
- [x] VADしきい値のリアルタイム可視化
- [x] 音声レベルメーターの改善
- [ ] 録音品質インジケーター
- [ ] キーボードショートカット対応

### パフォーマンス
- [ ] 音声処理の最適化
- [ ] メモリ使用量の改善
- [ ] バッテリー消費の軽減

## 🆕 新機能

### 音声認識強化
- [ ] 複数言語の同時サポート
- [ ] 方言/アクセント対応
- [ ] 専門用語辞書の追加

### 翻訳機能拡張
- [ ] 翻訳履歴の検索機能
- [ ] お気に入り翻訳の保存
- [ ] 翻訳精度の評価機能
- [ ] カスタム翻訳プロンプト

### エクスポート機能
- [ ] 音声付きエクスポート
- [ ] SRT字幕ファイル出力
- [ ] 翻訳ペア学習データの生成

## 🐛 既知のバグ

### リンティング警告
- [ ] App.tsx の no-unexpected-multiline エラー修正
- [ ] TranslationList.tsx の property access エラー修正
- [ ] arrayStateHandlers.ts の React Hook エラー修正

## 📊 監視・分析

### メトリクス追加
- [ ] API使用量の追跡
- [ ] 翻訳精度の測定
- [ ] ユーザー満足度の収集
- [ ] パフォーマンス指標の監視

## 🔄 メンテナンス

### 依存関係
- [ ] 依存パッケージの定期更新
- [ ] セキュリティ脆弱性の確認
- [ ] TypeScript版の最新化

### ドキュメント
- [ ] API仕様書の更新
- [ ] ユーザーマニュアルの作成
- [ ] 開発者ガイドの充実

---

## 📝 メモ

**最近の成果:**
- ✅ OpenAI APIキー入力の明確化
- ✅ gpt-4o-mini-transcribe導入（$0.006/分 → $0.003/分）
- ✅ 音声ファイル形式問題の解決
- ✅ TTS API Eitherバグ修正
- ✅ VAD性能の大幅改善（設定可能化、キャリブレーション、可視化）

**技術スタック:**
- React + TypeScript + Vite
- f-box (関数型リアクティブプログラミング)
- OpenAI API (Whisper/GPT-4o-mini/TTS)
- Web Audio API

**コスト最適化:**
- 現在の構成が最安かつ高精度を実現
- 更なるコスト削減よりも機能改善に注力

---

*最終更新: 2024年6月18日*